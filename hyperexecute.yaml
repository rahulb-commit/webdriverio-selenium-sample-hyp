version: 0.1
globalTimeout: 150
testSuiteTimeout: 150
testSuiteStep: 150

# Requirement: Run on Linux containers
runson: linux

runtime:
  language: node
  version: 18

# Enable parallel execution
autosplit: true
concurrency: 2

# Retry logic for flaky tests
retryOnFailure: true
maxRetries: 3

# Pre-test steps: Install dependencies
pre:
  - npm install

# Post-test steps: Cleanup
post:
  - rm -f demo.txt

# Test Discovery: Defines the 5 suites to be executed
testDiscovery:
  type: raw
  mode: dynamic
  command: grep -rl "describe(" tests/specs/
  # command: |
  #   echo single
  #   echo parallel
  #   echo multiple
  #   echo singleSmartUI
  #   echo integration

# Test Runner: Executes 'npm run <discovery_name>'
testRunnerCommand: npx wdio run conf/integration.conf.js --spec tests/specs/multiple/$test

jobLabel: ["webdriverio", "javascript", "selenium", "hyperexecute"]